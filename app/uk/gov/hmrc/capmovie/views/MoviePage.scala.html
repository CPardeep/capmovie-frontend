@import uk.gov.hmrc.capmovie.models.Movie
@import uk.gov.hmrc.govukfrontend.views.html.components._
@this(layout: Layout, govukInput : GovukInput, govukErrorSummary : GovukErrorSummary)
@(movie: Movie, user: String)(implicit request: Request[_], messages: Messages)
@layout(pageTitle = Some(movie.title), userType = user) {
<div id="movie-container">
    <div class="movie-card">
        <p id="title" class="govuk-heading-xl">@movie.title</p>
        <img width="150" height="250" src=@movie.poster/>
        <p id="rated" class="govuk-body"><strong>Rated:</strong> <br>
            @movie.rated
        </p>

        <p id="plot" class="govuk-body"><Strong>Plot:</Strong> <br>
            @movie.plot
        </p>

        <p class="govuk-body"><strong>Cast:</Strong> <br>
            @for(actor <- movie.cast) {
                <p class="govuk-body">@actor<p>
            }
        </p>

        <p class="govuk-body"><strong>Genres:</strong> <br>
            @for(genre <- movie.genres) {
                <p class="govuk-body">@genre<p>
            }
        </p>
        @if(user == "admin") {
        <a id="delete" href="http://localhost:9001/capmovie/delete/@movie.id" class="govuk-body">Delete</a>
        <br><br>
        <a href="http://localhost:9001/capmovie/@movie.id/update-title" class="govuk-body">Update</a>
        }
    </div>
</div>
}