@import uk.gov.hmrc.capmovie.models.Movie
@import uk.gov.hmrc.govukfrontend.views.html.components._
@this(layout: Layout, govukInput : GovukInput, govukErrorSummary : GovukErrorSummary)
@(movie: Movie, user: String)(implicit request: Request[_], messages: Messages)
@layout(pageTitle = Some(movie.title), userType = user) {
<div id="movie-container">
    <div class="movie-card">
        <p id="title">@movie.title</p>
        <img width="150" height="250" src=@movie.poster/>
        <p id="rated">Rated: <br>
            @movie.rated
        </p>

        <p id="plot">Plot: <br>
            @movie.plot
        </p>

        <p>Cast: <br>
            @for(actor <- movie.cast) {
                <p>@actor<p>
            }
        </p>

        <p>Genres: <br>
            @for(genre <- movie.genres) {
                <p>@genre<p>
            }
        </p>
        @if(user == "admin") {
        <form action="http://localhost:9001/capmovie/delete/@movie.id">
            <button id="delete" class="govuk-button" data-module="govuk-button">Delete</button>
        </form>
        <form action="http://localhost:9001/capmovie/@movie.id/update-title">
            <button id="update" class="govuk-button" data-module="govuk-button">Update</button>
        </form>

        }
    </div>
</div>
}