@import uk.gov.hmrc.capmovie.models._
@import uk.gov.hmrc.govukfrontend.views.html.components._
@this(layout: Layout, govukInput : GovukInput, govukErrorSummary : GovukErrorSummary)
@(movies: MovieWithAvgRating)(implicit request: Request[_], messages: Messages)
@layout(pageTitle = Some("Reviews")) {
<div id="movie-container">
        <table class="govuk-table">
            <caption class="govuk-table__caption govuk-table__caption--l">@movies.movie.title : Reviews and Ratings</caption>
            <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">User Ratings</th>
                <th scope="col" class="govuk-table__header">User Reviews</th>
            </tr>
            </thead>
            <tbody class="govuk-table__body">
            @for(review <- movies.movie.reviews) {
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">@review.rating</th>
                <td class="govuk-table__cell">@review.review</td>
            </tr>
            }
            </tbody>
        </table>


    </div>
</div>
}